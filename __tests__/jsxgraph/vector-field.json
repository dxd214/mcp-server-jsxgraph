{
  "name": "generate_vector_field",
  "description": "Generate vector field visualizations using JSXGraph. Display 2D vector fields with arrows showing direction and magnitude at each point. Supports streamlines, singular points, and color-coded magnitudes. Ideal for visualizing gradient fields, flow fields, electromagnetic fields, etc.",
  "inputSchema": {
    "type": "object",
    "properties": {
      "fieldFunction": {
        "type": "object",
        "properties": {
          "dx": {
            "type": "string",
            "description": "Expression for the x-component of the vector field as function of (x, y), e.g., '-y', 'x + y', 'Math.sin(x)'"
          },
          "dy": {
            "type": "string",
            "description": "Expression for the y-component of the vector field as function of (x, y), e.g., 'x', 'x - y', 'Math.cos(y)'"
          }
        },
        "required": ["dx", "dy"],
        "description": "Vector field function F(x,y) = (dx, dy)"
      },
      "density": {
        "type": "number",
        "default": 10,
        "description": "Number of vectors to show in each direction (density of the field)"
      },
      "scale": {
        "type": "number",
        "default": 0.8,
        "description": "Scale factor for vector lengths (0.1 to 2.0)"
      },
      "arrowStyle": {
        "type": "object",
        "properties": {
          "color": {
            "type": "string",
            "default": "#0066cc",
            "description": "Color of the vectors"
          },
          "strokeWidth": {
            "type": "number",
            "default": 1.5,
            "description": "Width of the vector arrows"
          },
          "headSize": {
            "type": "number",
            "default": 5,
            "description": "Size of the arrowheads"
          }
        },
        "description": "Styling options for the vector arrows"
      },
      "streamlines": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "startX": {
              "type": "number",
              "description": "Starting x coordinate for the streamline"
            },
            "startY": {
              "type": "number",
              "description": "Starting y coordinate for the streamline"
            },
            "color": {
              "type": "string",
              "default": "#ff6600",
              "description": "Color of the streamline"
            },
            "strokeWidth": {
              "type": "number",
              "default": 2,
              "description": "Width of the streamline"
            },
            "steps": {
              "type": "number",
              "default": 100,
              "description": "Number of integration steps"
            }
          },
          "required": ["startX", "startY"]
        },
        "description": "Optional streamlines (integral curves) to show the flow of the field"
      },
      "singularPoints": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "x": {
              "type": "number",
              "description": "X coordinate of the singular point"
            },
            "y": {
              "type": "number",
              "description": "Y coordinate of the singular point"
            },
            "type": {
              "type": "string",
              "enum": ["source", "sink", "saddle", "center"],
              "description": "Type of singular point"
            },
            "color": {
              "type": "string",
              "default": "#ff0000",
              "description": "Color of the singular point"
            },
            "size": {
              "type": "number",
              "default": 5,
              "description": "Size of the point marker"
            }
          },
          "required": ["x", "y"]
        },
        "description": "Optional singular/critical points to highlight"
      },
      "colorByMagnitude": {
        "type": "boolean",
        "default": false,
        "description": "Whether to color vectors based on their magnitude"
      },
      "showMagnitudeLegend": {
        "type": "boolean",
        "default": false,
        "description": "Whether to show a legend for magnitude colors"
      },
      "style": {
        "type": "object",
        "properties": {
          "theme": {
            "type": "string",
            "enum": ["default", "dark", "light"],
            "default": "default",
            "description": "Set the theme for the math chart."
          },
          "backgroundColor": {
            "type": "string",
            "default": "#ffffff",
            "description": "Background color of the math chart, such as '#fff'."
          },
          "grid": {
            "type": "boolean",
            "default": true,
            "description": "Whether to show grid lines."
          },
          "axis": {
            "type": "boolean",
            "default": true,
            "description": "Whether to show axis lines."
          }
        },
        "description": "Custom style configuration for the chart."
      },
      "width": {
        "type": "number",
        "default": 800,
        "description": "Set the width of the math chart, default is 800."
      },
      "height": {
        "type": "number",
        "default": 600,
        "description": "Set the height of the math chart, default is 600."
      },
      "title": {
        "type": "string",
        "default": "",
        "description": "Set the title of the math chart."
      },
      "axisXTitle": {
        "type": "string",
        "default": "x",
        "description": "Label for X axis"
      },
      "axisYTitle": {
        "type": "string",
        "default": "y",
        "description": "Label for Y axis"
      },
      "boundingBox": {
        "type": "array",
        "items": {
          "type": "number"
        },
        "minItems": 4,
        "maxItems": 4,
        "default": [-10, 10, 10, -10],
        "description": "The bounding box for the chart [xmin, ymax, xmax, ymin], default is [-10, 10, 10, -10]."
      },
      "keepAspectRatio": {
        "type": "boolean",
        "default": false,
        "description": "Whether to keep aspect ratio."
      },
      "showCopyright": {
        "type": "boolean",
        "default": false,
        "description": "Whether to show JSXGraph copyright."
      },
      "showNavigation": {
        "type": "boolean",
        "default": true,
        "description": "Whether to show navigation controls."
      },
      "zoom": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean",
            "default": true
          },
          "factorX": {
            "type": "number",
            "default": 1.25
          },
          "factorY": {
            "type": "number",
            "default": 1.25
          },
          "wheel": {
            "type": "boolean",
            "default": true
          },
          "needShift": {
            "type": "boolean",
            "default": false
          },
          "min": {
            "type": "number",
            "default": 0.1
          },
          "max": {
            "type": "number",
            "default": 10
          }
        },
        "description": "Zoom configuration for the chart."
      },
      "pan": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean",
            "default": true
          },
          "needShift": {
            "type": "boolean",
            "default": false
          },
          "needTwoFingers": {
            "type": "boolean",
            "default": false
          }
        },
        "description": "Pan configuration for the chart."
      }
    },
    "required": ["fieldFunction"],
    "$schema": "http://json-schema.org/draft-07/schema#"
  }
}
